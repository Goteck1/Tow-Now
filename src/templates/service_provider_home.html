{% extends "base.html" %}

{% block title %}Provider Home - TowNow{% endblock %}

{% block header_title %}Welcome, Provider {{ current_user.fullname if current_user and current_user.is_authenticated else '' }}{% endblock %}
{% block header_subtitle %}Manage your tow services, availability, and view active requests from your dashboard.{% endblock %}

{% block content %}
<section id="provider-dashboard-section" class="mb-2">
    <h2 class="text-center card-header" style="color: #007bff; margin-bottom: 1.5rem; background-color: #e9ecef; padding: 0.75rem; border-radius: 5px 5px 0 0;">Provider Dashboard</h2>

    <div class="dashboard-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem;">

        <div class="card dashboard-card-item">
            <div class="card-icon-top"><i data-lucide="list-checks"></i></div>
            <h3>Active Requests</h3>
            <p>View and manage incoming tow service requests assigned to you.</p>
            <a href="{{ url_for('main.service_provider_dashboard') }}" class="btn btn-primary btn-full-width">View Active Requests</a>
        </div>

        <div class="card dashboard-card-item">
            <div class="card-icon-top"><i data-lucide="calendar-clock"></i></div>
            <h3>Update Availability</h3>
            <p>Set your current availability status to receive new service requests.</p>
            <a href="{{ url_for('main.service_provider_dashboard') }}#availability-update" class="btn btn-secondary btn-full-width">Manage Availability</a> 
        </div>

        <div class="card dashboard-card-item">
            <div class="card-icon-top"><i data-lucide="history"></i></div>
            <h3>Service History</h3>
            <p>Review your completed tow services, earnings, and customer feedback.</p>
            <a href="#" class="btn btn-secondary btn-full-width">View Service History</a> {# Placeholder #}
        </div>

        <div class="card dashboard-card-item">
            <div class="card-icon-top"><i data-lucide="truck"></i></div>
            <h3>My Tow Trucks</h3>
            <p>Manage your registered tow trucks, their details, and service capabilities.</p>
            <a href="#" class="btn btn-secondary btn-full-width">Manage My Vehicles</a> {# Placeholder #}
        </div>
        
            <div class="card dashboard-card-item">
            <div class="card-icon-top"><i data-lucide="user-cog"></i></div>
            <h3>Provider Profile</h3>
            <p>Update your contact details, service areas, and payment information.</p>
            <a href="{{ url_for('main.provider_profile') }}" class="btn btn-secondary btn-full-width">Edit Provider Profile</a>
        </div>

            <div class="card">
                <h2 class="card-header">Solicitudes de Servicio Pendientes</h2>
                <div class="card-body">
                    <!-- Aquí irá la lista de notificaciones -->
                </div>
            </div>

    </div>
</section>

<style>
/* Styles are similar to user_home.html and can be centralized if needed */
.dashboard-card-item {
    text-align: center;
    border: 1px solid #ddd;
}
.dashboard-card-item .card-icon-top {
    font-size: 2.2rem;
    color: #007bff;
    margin-bottom: 0.8rem;
    margin-top: 0.5rem;
}
.dashboard-card-item h3 {
    margin-bottom: 0.5rem;
    font-size: 1.25rem;
    color: #0056b3;
}
.dashboard-card-item p {
    font-size: 0.9rem;
    color: #555;
    margin-bottom: 1rem;
    min-height: 40px;
}
</style>

{% endblock %}

